define("troopjs-requirejs/template!headerfooter/widget/alert/button/main.html",[],function(){return function(t){var n='<div class="pepper-alert-btn">\n	<span class="pepper-alert-link" data-action="showDict" data-weave="headerfooter/widget/omniture/main" data-omniture-action.CTA="1"\n	data-omniture-action.alertType="'+t.alertType+'">\n		<a href="'+t.url+'" data-blurb-id="679309" data-weave="troopjs-ef/blurb/widget" >GO TO CLASSROOM</a>\n	</span>\n	<div class="pepper-alert-link-icon"></div>\n</div>';return n}}),define("troopjs-requirejs/template!headerfooter/widget/alert/common/main.html",[],function(){return function(t){var n='<div class = "common-alert">\n	<div class="pepper-alert-header">\n		<div class="pepper-alert-close" data-action="closeAlert" data-weave="headerfooter/widget/omniture/main" data-omniture-action.alertClose="1"></div>\n	</div>\n	<div class="top">\n		';return t.picUrl&&(n+='\n		<img class="item" src="'+t.picUrl+'">\n		'),n+="\n		",t.title&&(n+='\n		<p class="item title">'+(t.title||"")+"</p>\n		"),n+='\n	</div>\n	<p class="des">'+t.detail+"</p>\n	",t.url&&(n+='\n	<div class="bottom" data-action="viewDetail" data-url="'+t.url+'" data-blurb-id="705342" data-weave="troopjs-ef/blurb/widget">View details</div>\n	'),n+="\n</div>",n}}),define("troopjs-requirejs/template!headerfooter/widget/alert/content/main.html",[],function(){return function(t){var n='<div class="pepper-alert-content">\n	';return t.alertStatus==="started"?n+="\n	<p class ='pepper-alert-text' data-blurb-id=\""+t.blurbID+'" data-weave="headerfooter/widget/alert/blurb" data-values=\'{"ClassTopic": "<span class=\\"pepper-alert-topic\\">'+t.topic+'</span>","StartTime": "'+t.startTime+"\"}'></p>\n	":n+='\n		<p data-blurb-id="'+t.blurbID+'" data-weave="headerfooter/widget/alert/blurb" data-values=\'{"ClassTopic": "<span class=\\"pepper-alert-topic\\">'+t.topic+"</span>\"}'>\n		</p>\n	",n+="\n</div>",n}}),define("troopjs-requirejs/template!headerfooter/widget/alert/countdown/main.html",[],function(){return function(t){var n='<div class="pepper-alert-countdown">\n	<div class="ue-inline-block pepper-alert-countdown-min">\n		<div>\n			<span class="ue-fLeft countdown-min">%M</span>\n			<span class="pepper-alert-countdown-separator">|</span>\n		</div>\n		<p data-blurb-id="679307" data-weave="troopjs-ef/blurb/widget">min</p>\n	</div>\n	<div class="ue-inline-block pepper-alert-countdown-sec">\n		<div class="countdown-sec">%S</div>\n		<p data-blurb-id="679308" data-weave="troopjs-ef/blurb/widget">sec</p>\n	</div>\n</div>';return n}}),define("troopjs-requirejs/template!headerfooter/widget/alert/courseware/main.html",[],function(){return function(t){var n="";return t.alertEnable&&(n+='\n<div class="header-pepper-true ets-ui-acc-act-alert" data-weave = "headerfooter/widget/alert/unread/main(\'courseware\')"></div>\n'),n+='\n<div class="ue-notifications-container ue-fullscreen-state ue-invert-state ets-ui-acc-act-notification" data-weave = "headerfooter/widget/notification/main(\'fullscreen\')"></div>',n}}),define("troopjs-requirejs/template!headerfooter/widget/alert/main.html",[],function(){return function(t){var n='<div class="header-pepper-tray">\n    <div data-weave="headerfooter/widget/alert/tray/main"></div>\n</div>\n<div class="header-pepper-alert">\n    <div data-weave="headerfooter/widget/alert/unread/main(\'header\')"></div>\n</div>';return n}}),define("troopjs-requirejs/template!headerfooter/widget/alert/profile/main.html",[],function(){return function(t){var n='<div class="pepper-alert-header">\n	<div class="pepper-alert-pic">\n	';return t.alertType==="GL"?n+='\n		<div class="pepper-alert-gl-pic"></div>\n	':n+='\n		<img class="pepper-alert-pl-pic" src="'+t.teacherImage+'">\n	',n+='\n	</div>\n	<div class="pepper-alert-info">\n		 ',t.alertType!=="GL"?n+=' 	\n		 	<div class="pepper-alert-teacherdesc">		\n				<div class="pepper-alert-teachericon"></div>\n				<span class="pepper-alert-teachertitle" data-blurb-id="679310" data-weave="troopjs-ef/blurb/widget"></span>\n				<p class="pepper-alert-teachername">'+t.teacherName+"</p>	\n			</div>	\n		  	":n+='\n				<p class="pepper-alert-teachername" data-blurb-id="679312" data-weave="troopjs-ef/blurb/widget">\n				</p>\n		   ',n+='\n	</div>\n	<div class="pepper-alert-close" data-action="closeAlert" data-weave="headerfooter/widget/omniture/main" data-omniture-action.alertClose="1"></div>\n</div>',n}}),define("troopjs-requirejs/template!headerfooter/widget/alert/tray/main.html",[],function(){return function(t){var n='<div class="'+t.iconclass+' pepper-alert-icon" data-action="showTray" data-weave="headerfooter/widget/omniture/main" data-omniture-action.alertIcon="1"></div>\n<div class="pepper-alert-tray-body '+t.scpreadClass+'">\n	<div class="pepper-alert-triangle-icon"></div>	\n	<div class="pepper-alert-tray-content mCustomScrollbar" data-mcs-theme="minimal-dark" data-action="hideTray">\n		';if(t.hasAlert){n+="\n		 ";for(var r=0;r<t.alerts.length;r++){n+="\n		 ";var i=r===t.alerts.length-1?"":"pepper-alert-tray-line";n+="\n			",t.alerts[r].alertType==="CommonMsg"?n+='\n			<div class="pepper-alert-body '+i+'">\n				<div class="center" data-weave="headerfooter/widget/alert/common/main(options)" data-options = \''+t.alerts[r].content+"'></div>\n			</div>\n			":n+='\n			<div class="pepper-alert-body '+i+'">\n				<div data-weave="headerfooter/widget/alert/profile/main(options)" data-options = \''+t.alerts[r].content+"'></div>\n				<div data-weave=\"headerfooter/widget/alert/content/main(options)\" data-options = '"+t.alerts[r].content+'\'></div>\n				<div class="center" data-weave="headerfooter/widget/alert/countdown/main(options)" data-options = \''+t.alerts[r].content+'\'></div>\n				<div class="center" data-weave="headerfooter/widget/alert/button/main(options)" data-options = \''+t.alerts[r].content+"'></div>\n			</div>\n			",n+="\n		"}n+="\n		"}else n+='\n			<div class="pepper-alert-body"> \n			<p class="pepper-alert-nocontent" data-blurb-id="679313" data-weave="troopjs-ef/blurb/widget">You don\'t have any alerts.</p>\n			</div>\n		';return n+="\n	</div>\n</div>",n}}),define("troopjs-requirejs/template!headerfooter/widget/alert/unread/main.html",[],function(){return function(t){var n="";return t.hasAlert&&(n+="\n	",t.alertType==="CommonMsg"?n+='\n		<div class="pepper-alert-body pepper-alert-unread-bottom" style="display: none">\n			<div class="center" data-weave="headerfooter/widget/alert/common/main(options)" data-options = \''+t.alert+"'></div>\n		</div>\n	":n+='\n		<div class="pepper-alert-body pepper-alert-unread-bottom alert-unread-disable" style="display: none">\n			<div data-weave="headerfooter/widget/alert/profile/main(options)" data-options = \''+t.alert+"'></div>\n			<div data-weave=\"headerfooter/widget/alert/content/main(options)\" data-options = '"+t.alert+'\'></div>\n			<div class="center" data-weave="headerfooter/widget/alert/countdown/main(options)" data-options = \''+t.alert+'\'></div>\n			<div class="center" data-weave="headerfooter/widget/alert/button/main(options)" data-options = \''+t.alert+"'></div>\n		</div>\n	",n+="\n"),n}}),define("troopjs-requirejs/template!headerfooter/widget/backtotop/main.html",[],function(){return function(t){var n='<div class="ue-back-totop">\n	<div class="ue-back-totop-content">\n	    <div class="ue-back-totop-arrow">\n			<span class="ue-back-totop-white"></span>\n			<span class="ue-back-totop-black"></span>\n 		</div>	\n	</div>\n    <p data-weave="troopjs-ef/blurb/widget" data-blurb-id="675775">Back to top</p>\n</div>';return n}}),define("troopjs-requirejs/template!headerfooter/widget/community-deprecation/ec.html",[],function(){return function(t){var n='<div class="deprecation-notice-container">\n  <div class="deprecation-notice-content">\n    <div class="deprecation-notice-header" data-blurb-id="708542" data-weave="troopjs-ef/blurb/widget"></div>\n\n    <div class="deprecation-notice-copy" data-blurb-id="708543" data-weave="troopjs-ef/blurb/widget">\n    </div>\n\n    <div class="deprecation-notice-spacer" />\n    <div  class="deprecation-notice-header" data-blurb-id="708544" data-weave="troopjs-ef/blurb/widget"></div>\n\n    <div class="deprecation-notice-copy" data-blurb-id="708545" data-weave="troopjs-ef/blurb/widget">\n    </div>\n  </div>\n  <div class="deprecation-notice-actions">\n    <div class="deprecation-notice-x" data-action="dismiss">╳</div>\n    <button class="deprecation-notice-button" data-action="dismiss" data-blurb-id="707952" data-weave="troopjs-ef/blurb/widget"></button>\n  </div>\n</div>';return n}}),define("troopjs-requirejs/template!headerfooter/widget/community-deprecation/main.html",[],function(){return function(t){var n='<div class="deprecation-notice-container">\n  <div class="deprecation-notice-content fullscreen">\n    <div class="deprecation-notice-header" data-blurb-id="708483" data-weave="troopjs-ef/blurb/widget"></div>\n    <div class="deprecation-notice-copy" data-blurb-id="708484" data-weave="troopjs-ef/blurb/widget"> </div>\n    <div class="deprecation-notice-copy" data-blurb-id="708486" data-weave="troopjs-ef/blurb/widget"> </div>\n  </div>\n</div>';return n}}),define("troopjs-requirejs/template!headerfooter/widget/footer/default.html",[],function(){return function(t){var n='<div data-weave="headerfooter/widget/backtotop/main"></div>\n<div class="ue-rightCol">\n    <div class="ue-language-switch" data-weave="headerfooter/widget/languageselector/main"></div>\n</div>\n<div class="ue-leftCol ue-links">\n    <p class="ue-mbm" data-weave="headerfooter/widget/footer-links/main"></p>\n    <p class="ue-copyright">'+t.CopyrightText+"</p>\n</div>";return n}}),define("troopjs-requirejs/template!headerfooter/widget/footer-links/main.html",[],function(){return function(t){var n="";for(var r=0,i=t.length;r<i;r++){var s=t[r],o=!1,u;if(!s.IsVisible)continue;o=r==i-1,n+='\n<a href="'+s.Url+'" class="ue-underline"><span>'+s.Text+"</span></a>\n",o||(n+='<span class="ue-link-seperator">|</span>'),n+="\n"}return n}}),define("troopjs-requirejs/template!headerfooter/widget/header/anat.html",[],function(){return function(t){var n='<h1 data-weave="headerfooter/widget/logo/main"></h1>\n<div class="ue-personal">\n    <div class="ue-userinfo" data-weave="headerfooter/widget/profile/main"></div>\n</div>';return n}}),define("troopjs-requirejs/template!headerfooter/widget/header/b2s.html",[],function(){return function(t){var n='<h1 data-weave="headerfooter/widget/logo/main"></h1>\n<ul class="ue-menu-list" data-weave="headerfooter/widget/menu/main"></ul>\n<div class="ue-personal">\n    ';return t.notificationEnable&&(n+='\n    <div class="ue-notifications-container" data-weave="headerfooter/widget/notification/main" id="headerfooter_notification_manager"></div>\n    '),n+='\n    <div class="ue-userinfo" data-weave="headerfooter/widget/profile/main_b2s"></div>\n</div>',n}}),define("troopjs-requirejs/template!headerfooter/widget/header/default.html",[],function(){return function(t){var n='<h1 data-weave="headerfooter/widget/logo/main"></h1>\n<ul class="ue-menu-list" data-weave="headerfooter/widget/menu/main"></ul>\n<div class="ue-personal">\n    ';return t.notificationEnable&&(n+='\n    <div class="ue-notifications-container" data-weave="headerfooter/widget/notification/main" id="headerfooter_notification_manager"></div>\n    '),n+='\n    <div class="ue-userinfo" data-weave="headerfooter/widget/profile/main"></div>\n</div>',n}}),define("troopjs-requirejs/template!headerfooter/widget/header/ecfull.html",[],function(){return function(t){var n='<h1 data-weave="headerfooter/widget/logo/main"></h1>\n<ul class="ue-menu-list" data-weave="headerfooter/widget/menu/main"></ul>\n<div class="ue-personal">\n    ';return t.notificationEnable&&(n+='\n    <div class="ue-notifications-container" data-weave="headerfooter/widget/notification/main" id="headerfooter_notification_manager"></div>\n    '),n+='\n    <div class="ue-userinfo" data-weave="headerfooter/widget/profile/main"></div>\n</div>\n',t.communityDeprecationNotice&&(n+='\n<div class="community-deprecation-widget" data-weave="headerfooter/widget/community-deprecation/ec"></div>\n'),n}}),define("troopjs-requirejs/template!headerfooter/widget/header/eclogo.html",[],function(){return function(t){var n='<h1 data-weave="headerfooter/widget/logo/main"></h1>';return n}}),define("troopjs-requirejs/template!headerfooter/widget/header/ecmenu.html",[],function(){return function(t){var n='<h1 data-weave="headerfooter/widget/logo/main"></h1>\n<ul class="ue-menu-list" data-weave="headerfooter/widget/menu/main"></ul>\n';return t.communityDeprecationNotice&&(n+='\n<div class="community-deprecation-widget" data-weave="headerfooter/widget/community-deprecation/ec"></div>\n'),n}}),define("troopjs-requirejs/template!headerfooter/widget/header/pepper.html",[],function(){return function(t){var n='<div class="header-pepper-true header-pepper-menu">\n    <div class="header-pepper-left">\n        <h1 data-weave="headerfooter/widget/logo/main"></h1>\n    </div>\n    <div>\n        <div class="header-pepper-right">\n            <div class="ue-personal">\n                ';return t.alertEnable&&(n+='\n                <div class="pepper-alert-true" data-weave="headerfooter/widget/alert/main"></div>\n                '),n+="\n                ",t.notificationEnable&&t.notificationCCLEnable&&(n+='\n                <div class="ue-notifications-container" data-weave="headerfooter/widget/notification/main" id="headerfooter_notification_manager"></div>\n                '),n+='\n                <div class="ue-userinfo" data-weave="headerfooter/widget/profile-pepper/main"></div>\n            </div>\n        </div>\n        <div>\n            <div class="header-pepper-center">\n                <ul class="ue-menu-list" data-weave="headerfooter/widget/menu-pepper/main"></ul>\n            </div>\n        </div>\n    </div>\n    ',t.communityDeprecationNotice&&(n+='\n    <div class="community-deprecation-widget fullscreen" data-weave="headerfooter/widget/community-deprecation/main"></div>\n    '),n+="\n</div>",n}}),define("troopjs-requirejs/template!headerfooter/widget/languageselector/main.html",[],function(){return function(t){function i(e){return r[e]||"English"}function s(e){return'<li><a href="#" data-code="'+e+'" class="ue-underline" data-action="changeLanguage()">'+r[e]+"</a></li>"}function o(e){var t="";for(var n=0,r=e.length;n<r;n++)t+=s(e[n]);return t}var n="",r={en:"English",pt:"Português",sp:"Español (Latino)",es:"Español (Es.)",fr:"Français",ge:"Deutsch",it:"Italiano",ko:"한국어",ja:"日本語",hk:"繁體中文 (中國香港)",ch:"繁體中文 (中國台灣)",cs:"简体中文",th:"ภาษาไทย",ru:"Русский",tr:"Türkçe","in":"Bahasa Indonesia",ar:"العربية",tt:"Татарча",rw:"Kinyarwanda"};return n+='\n<div class="ue-language-select" data-action="hideLanguage()">\n    <ul>\n        '+o(t.languages)+'\n    </ul>\n</div>\n<a class="ue-language-button" href="#" data-action="showLanguage()">\n    <span>'+i(t.context.LanguageCode)+"</span>\n</a>",n}}),define("troopjs-requirejs/template!headerfooter/widget/logo/main.html",[],function(){return function(t){var n='<a class="ue-logo" data-weave="headerfooter/widget/menu/item(\'Main.Home.2012\') headerfooter/widget/omniture/main" data-attr=\'{"href":"Url"}\' data-omniture-action.logo-click="1">\n    <img src="'+t.ImageUrl+'" height="44" alt="'+t.Text+'">\n</a>';return n}}),define("troopjs-requirejs/template!headerfooter/widget/menu/item-livegame.html",[],function(){return function(t){var n='<a href="" class="ue-underline" data-action="callLiveGame">'+t.Text+"</a>";return n}}),define("troopjs-requirejs/template!headerfooter/widget/menu/item-livehelp.html",[],function(){return function(t){var n='<a href="'+unescape(t.Href)+'" class="ue-underline" data-action="callLiveHelp()">'+t.Text+"</a>";return n}}),define("troopjs-requirejs/template!headerfooter/widget/menu/item-techcheck.html",[],function(){return function(t){var n='<a href="'+t.Href+'" class="ue-underline" data-action="techCheck">'+t.Text+"</a>";return n}}),define("troopjs-requirejs/template!headerfooter/widget/menu/item-translator.html",[],function(){return function(t){var n='<a href="'+t.Href+'" class="ue-underline" data-action="showDict">'+t.Text+"</a>";return n}}),define("troopjs-requirejs/template!headerfooter/widget/menu/items.html",[],function(){return function(t){function m(e){var t=e.Url,n=t.replace(h,"$2");t=t.replace(h,"$1");if(!p.test(t)){var r=encodeURIComponent(e.MenuItemTypeCode);v.test(t)?t=t.replace(v,"$1$2&icid="+r):t=t.replace(d,"?icid="+r),t+=n}return t}var n="",r="MenuItemList",i,s,o,u,a,f,l,c,h=/([^#]+)(#?.*)$/,p=/^javascript:/,d=/(\??)$/,v=/(\?)([^\?]+)$/;n+="\n<table>\n	<thead>\n		<tr>\n		";for(a=0,f=t.length,c=0;a<f;a++)i=t[a],c=Math.max(c,i[r].length),i.IsVisible?n+='\n			<th class="ue-hd" data-code="'+i.MenuItemTypeCode+'">'+i.Text+"</th>\n		":n+='\n			<th class="ue-hd ue-hd-blank"></th>\n		';n+="\n		</tr>\n	</thead>\n	<tbody>\n	";for(l=0,o=c-1;l<c;l++){u=[],l===0&&u.push("first-child"),l===o&&u.push("last-child"),n+='\n		<tr class="'+u.join(" ")+'">\n		';for(a=0,s=f-1;a<f;a++){i=t[a][r][l],u=["ue-td"],a===0&&u.push("first-child"),a===s&&u.push("last-child"),n+='\n			<td class="'+u.join(" ")+'" data-code="'+(i?i.MenuItemTypeCode:"")+'">\n			';if(i)switch(i.MenuItemTypeCode){case"School.Translator.2012":n+="\n				<p data-weave=\"headerfooter/widget/menu/item-translator('"+i.Text+"', '"+escape(i.Url)+"')\"></p>\n				";break;case"School.LiveGame.2012":n+="\n				<p data-weave=\"headerfooter/widget/menu/item-livegame('"+i.Text+"')\"></p>\n				";break;case"School.LiveHelp.2012":n+="\n                <p data-weave=\"headerfooter/widget/menu/item-livehelp('"+i.Text+"', '"+escape(i.Url)+"')\"></p>\n				";break;case"School.TechnicalCheck.2012":n+="\n				<p data-weave=\"headerfooter/widget/menu/item-techcheck('"+i.Text+"', '"+escape(i.Url)+"')\"></p>\n                ";break;default:n+='\n				<p><a href="'+m(i)+'" class="ue-underline">'+i.Text+"</a></p>\n				"}else n+="\n				<p>&nbsp;</p>\n			";n+="\n			</td>\n		"}n+="\n		</tr>\n	"}return n+='\n	</tbody>\n</table>\n<div class="ue-arrow-container"><s class="ue-arrow"></s></div>',n}}),define("troopjs-requirejs/template!headerfooter/widget/menu/main.html",[],function(){return function(t){var n="",r,i,s,o,u,a;for(s=0,o=t.length,i=o-1;s<o;s++){r=t[s];if(!r.IsVisible)continue;a=[],s===0&&a.push("first-menu"),s===i&&a.push("last-menu"),n+='\n<li class="'+a.join(" ")+'" data-code="'+r.MenuItemTypeCode+'" '+(s==0?'data-weave="headerfooter/widget/omniture/main" data-omniture-action.home-icon-click="1"':"")+">\n";switch(r.MenuItemTypeCode){case"Main.Home.2012":a.push("ue-home"),n+='\n<a href="'+r.Url+'"><i class="ue-header-icons ue-home"></i>&nbsp;</a></li>\n';break;default:n+='\n<a href="'+r.Url+'" class="ue-menu-link"><span>'+r.Text+'</span><s class="ue-arrow"></s></a>\n<div class="ue-menu" data-weave="headerfooter/widget/menu/items(\''+r.MenuItemTypeCode+"')\"></div>\n"}n+="\n</li>\n"}return n}}),define("troopjs-requirejs/template!headerfooter/widget/menu-pepper/item-livegame.html",[],function(){return function(t){var n='<a href="" data-action="callLiveGame"><p>'+t.Text+"</p></a>";return n}}),define("troopjs-requirejs/template!headerfooter/widget/menu-pepper/item-livehelp.html",[],function(){return function(t){var n='<a href="'+unescape(t.Href)+'" data-action="callLiveHelp()"><p>'+t.Text+"</p></a>";return n}}),define("troopjs-requirejs/template!headerfooter/widget/menu-pepper/item-techcheck.html",[],function(){return function(t){var n='<a href="'+t.Href+'" data-action="techCheck"><p>'+t.Text+"</p></a>";return n}}),define("troopjs-requirejs/template!headerfooter/widget/menu-pepper/item-translator.html",[],function(){return function(t){var n='<a href="'+t.Href+'" data-action="showDict"><p>'+t.Text+"</p></a>";return n}}),define("troopjs-requirejs/template!headerfooter/widget/menu-pepper/items.html",[],function(){return function(t){function m(e){if(!e.Url)return e;var t=e.Url,n=t.replace(h,"$2");t=t.replace(h,"$1");if(!p.test(t)){var r=encodeURIComponent(e.MenuItemTypeCode);v.test(t)?t=t.replace(v,"$1$2&icid="+r):t=t.replace(d,"?icid="+r),t+=n}return t}function g(e){for(var t=1,n=e.length;t<n;t++){var r=e[t],i=r.MenuItemList,s=r.MenuItemList.length;i.unshift(0),i.unshift(s),Array.prototype.splice.apply(e[0].MenuItemList,i)}}var n="",r="MenuItemList",i,s,o,u,a,f,l,c,h=/([^#]+)(#?.*)$/,p=/^javascript:/,d=/(\??)$/,v=/(\?)([^\?]+)$/;g(t),n+="\n<table>\n    ";for(a=0,f=t.length,c=0;a<1;a++)i=t[a],c=Math.max(c,i[r].length);n+="\n	<tbody>\n	";for(l=0,o=c-1;l<c;l++){u=[],l===0&&u.push("first-child"),l===o&&u.push("last-child"),n+='\n		<tr class="'+u.join(" ")+'">\n		';for(a=0,s=f-1;a<1;a++){i=t[a][r][l],u=["ue-td"],a===0&&u.push("first-child"),a===s&&u.push("last-child"),n+='\n			<td class="'+u.join(" ")+'" data-code="'+(i?i.MenuItemTypeCode:"")+'">\n			';if(i)switch(i.MenuItemTypeCode){case"School.Translator.2012":n+="\n				<div data-weave=\"headerfooter/widget/menu-pepper/item-translator('"+i.Text+"', '"+escape(i.Url)+"')\"></div>\n				";break;case"School.LiveGame.2012":n+="\n				<div data-weave=\"headerfooter/widget/menu-pepper/item-livegame('"+i.Text+"')\"></div>\n				";break;case"School.LiveHelp.2012":n+="\n                <div data-weave=\"headerfooter/widget/menu-pepper/item-livehelp('"+i.Text+"', '"+escape(i.Url)+"')\"></div>\n				";break;case"School.TechnicalCheck.2012":n+="\n				<div data-weave=\"headerfooter/widget/menu-pepper/item-techcheck('"+i.Text+"', '"+escape(i.Url)+"')\"></div>\n                ";break;default:n+='\n				<a href="'+m(i)+'"><p>'+i.Text+"</p></a>\n				"}else n+="\n				<p>&nbsp;</p>\n			";n+="\n			</td>\n		"}n+="\n		</tr>\n	"}return n+="\n	</tbody>\n</table>",n}}),define("troopjs-requirejs/template!headerfooter/widget/menu-pepper/main.html",[],function(){return function(t){function d(e){return e=e.replace(f,""),e=e.replace(l,""),p&&h.test(e)?!0:e===c}function v(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];for(var i=0,s=r.MenuItemList.length;i<s;i++){var o=r.MenuItemList[i],u=o.Url;u=u.replace(f,""),u=u.replace(l,"");if(u===c)return!0}}return!1}var n="<!--\n",r,i,s,o,u,a,f=/#.*$/,l=/\/$/,c=location.pathname;c=c.replace(l,"");var h=/^\/community\//i,p=h.test(c);for(s=0,o=t.length,i=o-1;s<o;s++){r=t[s];if(!r.IsVisible)continue;a=[],s===0&&a.push("first-menu"),s===i&&a.push("last-menu"),(v(r.MenuItemList)||d(r.Url))&&a.push("ue-selected"),n+='\n--><li class="'+a.join(" ")+'" data-code="'+r.MenuItemTypeCode+'" '+(s==0?'data-weave="headerfooter/widget/omniture/main" data-omniture-action.home-icon-click="1"':"")+">\n";switch(r.MenuItemTypeCode){case"Main.Home.2012":break;default:n+='\n<a href="'+r.Url+'" class="ue-menu-link"><span>'+r.Text+'</span></a>\n<div class="ue-menu" data-weave="headerfooter/widget/menu-pepper/items(\''+r.MenuItemTypeCode+"')\"></div>\n"}n+="\n</li><!--\n"}return n+="\n-->",n}}),define("troopjs-requirejs/template!headerfooter/widget/notification/evc.html",[],function(){return function(t){var n='<div class="ue-evc ue-hidden-state">\n	<a href="#" data-action="showEvcPopup()" data-weave="headerfooter/widget/omniture/main" data-omniture-action.gl-notification="1">\n		<i class="ue-header-icons ue-evc">\n			<span class="ue-badge"></span>\n			<span class="ue-element-invisible">GL/PL</span>\n		</i>\n	</a>\n	<div class="ue-notification" data-action="enterClass()">\n		<s class="ue-arrow"></s>\n		<div class="ue-media ue-fLeft">\n			<a href="" class="ue-img ue-right ue-more">\n				<s class="ue-header-icons ue-right-arrow"></s>\n			</a>\n			<div class="ue-bd ue-tightest" data-weave="headerfooter/widget/omniture/main" data-omniture-action.gl-notification-icon="1">\n				<p class="ue-chat_body">\n					<span data-weave="headerfooter/widget/blurb" data-text="${465084}" class="ue-msg-default-gl"></span>\n					<span data-weave="headerfooter/widget/blurb" data-text="${514843}" class="ue-msg-alt-oc"></span>\n				</p>\n			</div>\n		</div>\n	</div>\n</div>';return n}}),define("troopjs-requirejs/template!headerfooter/widget/notification/im.html",[],function(){return function(t){var n='<div class="ue-im">\n    <a href="#" data-action="showIM()" data-weave="headerfooter/widget/omniture/main" data-omniture-action.chat="1">\n		<i class="ue-header-icons ue-callout">\n			<span class="ue-badge"></span>\n			<span class="ue-element-invisible">Messages</span>\n		</i>\n	</a>\n	<div class="ue-notification" data-action="showLatestConversation()">\n		<s class="ue-arrow"></s>\n		<div class="ue-media ue-fLeft">\n			<span class="ue-img ue-mrm ue-mlm ue-mtm ue-avatar">\n				<img src="/_styles/et-resources/i/spacer.gif" width="27" height="27" />\n			</span>\n			<a href="" class="ue-img ue-right ue-more">\n				<s class="ue-header-icons ue-callout_invert"></s>\n			</a>\n			<div class="ue-bd ue-tightest ue-ptm">\n				<p class="ue-chat_body"></p>\n			</div>\n		</div>\n	</div>\n</div>';return n}}),define("troopjs-requirejs/template!headerfooter/widget/notification/inbox.html",[],function(){return function(t){var n='<a href="/community/messages/default.aspx" class="ue-inbox" data-weave="headerfooter/widget/omniture/main" data-omniture-action.email="1">\n	<i class="ue-header-icons ue-mail">\n		<span class="ue-badge"></span>\n		<span class="ue-element-invisible">Mail</span>\n	</i>\n</a>';return n}}),define("troopjs-requirejs/template!headerfooter/widget/notification/livegame.html",[],function(){return function(t){var n='<div class="ue-livegame ue-hidden-state">\n    <a href="#" data-action="showPopup()">\n        <i class="ue-header-icons ue-game">\n            <span class="ue-badge"></span>\n            <span class="ue-element-invisible">Games</span>\n        </i>\n    </a>\n    <div class="ue-notification" data-action="showLiveGame()" data-href="/school/social/livegame/wordquiz">\n        <s class="ue-arrow"></s>\n        <div class="ue-media ue-fleft">\n            <a href="#" class="ue-img ue-right ue-more">\n                <s class="ue-header-icons ue-right-arrow"></s>\n            </a>\n            <div class="ue-bd ue-tightest ue-ptm">\n                <p data-weave="headerfooter/widget/blurb" data-text="${464818}" class="ue-chat_body"></p>\n            </div>\n        </div>\n    </div>\n</div>';return n}}),define("troopjs-requirejs/template!headerfooter/widget/notification/main.html",[],function(){return function(t){var n='<ul class="ue-notifications">\n';return t.Evc&&!t.alertEnable&&(n+='\n    <li class="ue-evc-icon">\n        <div data-priority="4" data-weave="headerfooter/widget/notification/evc" data-fullscreen="'+t.fullscreen+'"></div>\n    </li>\n'),t.LiveGame&&(n+='\n    <li class="ue-livegame-icon">\n        <div data-priority="3" data-weave="headerfooter/widget/notification/livegame" data-fullscreen="'+t.fullscreen+'"></div>\n    </li>\n'),t.IMChat&&(n+='\n    <li class="ue-im-icon">\n        <div data-priority="2" data-weave="headerfooter/widget/notification/im" data-fullscreen="'+t.fullscreen+'"></div>\n    </li>\n'),t.HasCommunity&&(n+='\n    <li class="ue-inbox-icon">\n        <div data-priority="1" data-weave="headerfooter/widget/notification/inbox" data-fullscreen="'+t.fullscreen+'"></div>\n    </li>\n'),n+="\n</ul>",n}}),define("troopjs-requirejs/template!headerfooter/widget/profile/main.html",[],function(){return function(t){var n='<div class="ue-userbox" data-action="expandUserbox()" data-weave="headerfooter/widget/omniture/main" data-omniture-action.plus-click="1">\n    <a href="#" class="ue-avatar">\n        <img data-weave="headerfooter/widget/avatar/main" data-attr=\'{"src":"AvatarImageUrl", "alt":"DisplayName"}\' width="44" height="44" src="/_styles/et-resources/i/spacer.gif" />\n    </a>\n    <a href="#" class="ue-dropdown"><s class="ue-cross"></s></a>\n    <div class="ue-userbox-detail">\n        <div class="ue-media">\n            <a href="" class="ue-img ue-right" data-action="manualShrink()">\n                <img data-weave="headerfooter/widget/avatar/main" data-attr=\'{"src":"AvatarImageUrl"}\' width="44" height="44" src="/_styles/et-resources/i/spacer.gif">\n                <s class="ue-header-icons ue-close"></s>\n            </a>\n            <div class="ue-bd ue-tighter">\n                <p class="ue-name" data-weave="headerfooter/widget/avatar/main" data-text="${DisplayName}" data-attr=\'{"title":"DisplayName"}\'></p>\n            </div>\n        </div>\n        <ul data-weave="headerfooter/widget/profile-links/main" class="ue-inline-list ue-links"></ul>\n    </div>\n</div>';return n}}),define("troopjs-requirejs/template!headerfooter/widget/profile/main_b2s.html",[],function(){return function(t){var n='<div class="ue-userbox" data-action="expandUserbox()" data-weave="headerfooter/widget/omniture/main" data-omniture-action.plus-click="1">\n    <a href="#" class="ue-dropdown"><s class="ue-cross"></s></a>\n    <div class="ue-userbox-detail">\n        <div class="ue-media">\n            <a href="" class="ue-img ue-right" data-action="manualShrink()">\n                <s class="ue-header-icons ue-close"></s>\n            </a>\n            <div class="ue-bd ue-tighter">\n                <p class="ue-name" data-weave="headerfooter/widget/avatar/main" data-text="${DisplayName}" data-attr=\'{"title":"DisplayName"}\'></p>\n            </div>\n        </div>\n        <ul data-weave="headerfooter/widget/profile-links/main" class="ue-inline-list ue-links"></ul>\n    </div>\n</div>';return n}}),define("troopjs-requirejs/template!headerfooter/widget/profile-links/main.html",[],function(){return function(t){var n="",r={"Main.MyAccount.2012":"ue-header-icons ue-setting","Main.CommunityProfile.2012":"ue-header-icons ue-profile","Main.Logout.2012":"ue-header-icons ue-logout","Main.ReferAFriend.2012":"ue-header-icons ue-refer","Main.AboutYourCourse.2012":"ue-header-icons ue-yourcourse","Main.Community.New.2012":"ue-header-icons ue-community","Shopping.Order.2018":"ue-header-icons ue-shopping-order"},i={"Main.MyAccount.2012":"action.my-account","Main.Logout.2012":"action.logout"};for(var s=0,o=t.length;s<o;s++){var u=t[s],a,f="";if(!u.IsVisible)continue;a=r.hasOwnProperty(u.MenuItemTypeCode)?r[u.MenuItemTypeCode]:"",f=i.hasOwnProperty(u.MenuItemTypeCode)?"data-weave=\"headerfooter/widget/omniture/main('', true)\" data-omniture-"+i[u.MenuItemTypeCode]+'="1"':"",n+='\n<li><a href="'+u.Url+'" '+f+">"+(a!=""?'<s class="'+a+'"></s>':"")+"<span>"+u.Text+"</span></a></li>\n"}return n}}),define("troopjs-requirejs/template!headerfooter/widget/profile-pepper/main.html",[],function(){return function(t){var n='<div class="ue-userbox" data-action="expandUserbox()" data-weave="headerfooter/widget/omniture/main" data-omniture-action.plus-click="1">\n    <a href="#" class="ue-avatar">\n        <img data-weave="headerfooter/widget/avatar/main" data-attr=\'{"src":"AvatarImageUrl", "alt":"DisplayName"}\' width="45" height="45" src="/_styles/et-resources/i/spacer.gif" />\n    </a>\n    <div class="ue-userbox-detail">\n        <ul data-weave="headerfooter/widget/profile-links/main" class="ue-links"></ul>\n    </div>\n</div>';return n}}),define("troopjs-requirejs/template!headerfooter/widget/profile-pepper/main_b2s.html",[],function(){return function(t){var n='<div class="ue-userbox" data-action="expandUserbox()" data-weave="headerfooter/widget/omniture/main" data-omniture-action.plus-click="1">\n    <a href="#" class="ue-dropdown"><s class="ue-cross"></s></a>\n    <div class="ue-userbox-detail">\n        <div class="ue-media">\n            <a href="" class="ue-img ue-right" data-action="manualShrink()">\n                <s class="ue-header-icons ue-close"></s>\n            </a>\n            <div class="ue-bd ue-tighter">\n                <p class="ue-name" data-weave="headerfooter/widget/avatar/main" data-text="${DisplayName}" data-attr=\'{"title":"DisplayName"}\'></p>\n            </div>\n        </div>\n        <ul data-weave="headerfooter/widget/profile-links/main" class="ue-inline-list ue-links"></ul>\n    </div>\n</div>';return n}}),define("headerfooter/widget/alert/blurb",["troopjs-ef/blurb/widget"],function(e){return e.extend({text:e.prototype.html})}),define("headerfooter/widget/alert/button/main",["troopjs-ef/component/widget","jquery","template!./main.html"],function(e,t,n){var r="/evc/mybookings",i="/evc/gl";return e.extend(function(e,t,n){var r=this;r.options=n},{"sig/start":function(s,o){var u=this;u.query('ccl!"ec.ui.headerfooter.currentbooking.url"',t.Deferred().done(function(e){r=e.value,u.html(n,{url:u.options.alertType==="GL"?i:r,alertType:u.options.alertType}),o.resolve()}))},"dom/action.click":t.noop,"dom/action/showDict.click":function(e,t){var n=this;t.preventDefault();var s=n.options.isIntray?"alert/tray/remove":"alert/unread/close";n.publish(s,n.options);var o=n.options.alertType==="GL"?i:r;location.href=window.location.protocol.replace("https","http")+"//"+window.location.host+o}})}),define("headerfooter/widget/alert/common/main",["troopjs-ef/component/widget","jquery","template!./main.html"],function(e,t,n){return e.extend(function(e,t,n){var r=this;r.options=n},{"sig/start":function(t,r){var i=this;return i.html(n,i.options),r.resolve()},"dom/action.click":t.noop,"dom/action/viewDetail.click":function(e,n){var r=this;n.preventDefault();var i=t(n.target).data("url");i&&window.open(i,"_blank")},"dom/action/closeAlert.click":function(e,t){var n=this;t.preventDefault();var r=n.options.isIntray?"alert/tray/remove":"alert/unread/close";n.publish(r,n.options)}})}),define("headerfooter/widget/common/datefromiso",[],function(){function e(e){var t=e.split(/\D/);return new Date(Date.UTC(t[0],--t[1]||"",t[2]||"",t[3]||"",t[4]||"",t[5]||"",t[6]||""))}return e}),define("headerfooter/widget/alert/content/main",["troopjs-ef/component/widget","jquery","template!./main.html","moment","../../common/datefromiso"],function(e,t,n,r,i){return e.extend(function(e,t,n){var r=this;r.options=n},{"sig/start":function(t,r){var i=this,s=i.buildData();return i.html(n,s),r.resolve()},"hub/alert/content/update":function(e,t){var r=this;if(t.alertID!==r.options.alertID)return;r.html(n,r.buildData())},buildData:function(){var e=this,t={};t.alertType=e.options.alertType,t.topic=typeof e.options.topic!="undefined"?e.options.topic.replace(/\'/g,"&#39;"):"";var n=i(e.options.clientPollingDate),s=i(r().format("YYYY-MM-DD HH:mm:ss")),o=(s-n)/1e3,u=e.options.classStartInSeconds-o;t.alertStatus=u<=0?"started":"notstart";if(t.alertStatus==="started"){var a=r().add(u,"seconds");(30-a.minutes()===1||60-a.minutes()===1)&&a.add(1,"minutes"),t.startTime=a.format("HH:mm")}return t.alertStatus==="started"?t.blurbID=t.alertType!=="GL"?679358:679359:t.blurbID=t.alertType!=="GL"?679306:679311,t}})}),define("headerfooter/widget/alert/countdown/main",["troopjs-ef/component/widget","jquery","module","template!./main.html","moment","../../common/datefromiso","jquery.countdown"],function(e,t,n,r,i,s){return e.extend(function(e,t,n){var r=this;r.options=n},{"sig/start":function(t,n){var r=this,o=s(r.options.clientPollingDate),u=s(i().format("YYYY-MM-DD HH:mm:ss")),a=(u-o)/1e3,f=r.options.classStartInSeconds-a;if(f>0){var l=i().add(f,"seconds").format("YYYY-MM-DD HH:mm:ss");r.countdown(l)}return n.resolve()},countdown:function(e){var t=this;t.$element.countdown(e).on("update.countdown",function(e){if(t.$element.find(".countdown-min").text()==="")t.html(e.strftime(r()));else{var n=e.strftime("%M|%S").split("|");t.$element.find(".countdown-min").text(n[0]),t.$element.find(".countdown-sec").text(n[1])}}).on("finish.countdown",function(e){t.publish("alert/content/update",{alertID:t.options.alertID}),t.$element.remove()})}})}),define("headerfooter/widget/alert/courseware/main",["troopjs-ef/component/widget","jquery","template!./main.html"],function(e,t,n){return e.extend(function(e,t,n){var r=this},{"sig/start":function(r,i){var s=this;return s.alertEnable=t.Deferred(),s.query('ccl!"campus.alerts.enabled"',s.alertEnable),s.alertEnable.done(function(e){s.html(n,{alertEnable:e.value==="true"})}),i.resolve()}})}),define("headerfooter/widget/configuration/moduleObjectLiteralMaps",[],function(){return{context:"ContextData","headerfooter/widget/header/main":"*","headerfooter/widget/footer/main":"*","headerfooter/widget/logo/main":"Logo","headerfooter/widget/languageselector/main":"LanguageCodes","headerfooter/widget/notification/main":"*","headerfooter/widget/notification/evc":"*","headerfooter/widget/services/base":"*"}}),define("headerfooter/widget/configuration/widgetSetting",["troopjs-ef/component/gadget","jquery","./moduleObjectLiteralMaps","module"],function(e,t,n,r){function f(e){return n[e]}function l(){var e=this,n=t.ajax({url:a.url||"/services/shared/headersetting",type:a.type||"POST",headers:a.headers||{}});n.done(function(e){o=e,s.resolve()})}function c(e){var t=f(e)||u,n=o;if(t===u)return n;var r=t.split(".");for(var i=0;i<r.length;i++)n=n[r[i]];return n}var i,s=t.Deferred(),o,u="*",a=r.config()||{};return e.extend({"sig/start":function(t,n){l.call(this)},getSetting:function(e){var n=t.Deferred();return s.done(function(){n.resolve(c(e))}),n}}).apply(e).start()}),define("headerfooter/widget/alert/main",["troopjs-ef/component/widget","jquery","module","../configuration/widgetSetting","template!./main.html","moment","../common/datefromiso"],function(e,t,n,r,i,s,o){return e.extend(function(e,t,n){var r=this},{"sig/start":function(t,n){var r=this;r.html(i),n.resolve()},"hub:memory/alert/init":function(e,t){var n=this;n.pollingAlerts()},pollingAlerts:function(){var e=this;e.pollingAlert("alert!pl"),e.pollingAlert("alert!eftv"),e.pollingAlert("alert!cp20"),e.pollingAlert("alert!gl"),e.pollingAlert("alert!commonMsg")},pollingAlert:function(e){var n=this;(function r(){n.alert=t.Deferred(),n.query(e,n.alert),n.alert.done(function(e){if(e){var t=o(e.alert.nextPolling),i=o(e.alert.polling),s=t-i;n.preProcessAlert(e,e.alert.polling,e.alert.nextPolling),setTimeout(r,s)}})})()},preProcessAlert:function(e,t,n){var r=this,i=s().format("YYYY-MM-DD HH:mm:ss");e.alert.clientDate=i;if(e.alert.data instanceof Array)if(e.alert.data.length===0)e.alert.data=undefined,r.publish("alert/tray/handlePollingAlerts",e.alert);else for(var o=0;o<e.alert.data.length;o++){var u=e.alert.data[o],a={};a.clientDate=i,a.nextPolling=n,a.polling=t,a.type=e.alert.type,a.data=u,r.publish("alert/tray/handlePollingAlerts",a)}else r.publish("alert/tray/handlePollingAlerts",e.alert)}})}),define("headerfooter/widget/alert/profile/main",["troopjs-ef/component/widget","jquery","../../configuration/widgetSetting","module","template!./main.html","moment","../../common/datefromiso"],function(e,t,n,r,i,s,o){return e.extend(function(e,t,n){var r=this;r.options=n},{"sig/start":function(t,n){var r=this,u={};u.alertType=r.options.alertType,u.teacherImage=r.options.teacherImage,u.alertType!=="GL"&&(u.teacherName=r.options.teacherFirstName+" "+r.options.teacherLastName,u.teacherShortName=r.options.teacherFirstName[0]+r.options.teacherLastName[0]),r.html(i,u);var a=o(r.options.clientPollingDate),f=o(s().format("YYYY-MM-DD HH:mm:ss")),l=(f-a)/1e3,c=r.options.classStartInSeconds-l;return r.options.isIntray||r.ignoreAlert(r.options.alertID,(r.options.popupDuration-l)*1e3),n.resolve()},"dom/action.click":t.noop,"dom/action/closeAlert.click":function(e,t){var n=this;t.preventDefault();var n=this,r=n.options.isIntray?"alert/tray/remove":"alert/unread/close";n.publish(r,n.options)},ignoreAlert:function(e,t){var n=this;setTimeout(function(){n.publish("alert/unread/ignore",n.options)},t)}})}),define("headerfooter/widget/common/console",[],function(){var e=window.console||{log:function(){},info:function(){}};return e}),define("headerfooter/widget/alert/tray/main",["troopjs-ef/component/widget","jquery","module","template!./main.html","moment","../../common/console","jquery.scrollbar","jquery.mousewheel"],function(e,t,n,r,i,s){var o={},u="campus/class-booking";return e.extend(function(e,t,n){var r=this;r.options=n},{"sig/start":function(t,n){var i=this,s={};s.hasAlert=!1,s.iconclass="pepper-alert-read-icon",s.scpreadClass="ue-hidden",i.html(r,s),n.resolve()},"dom/action.click.mouseenter.mouseleave":t.noop,"dom/action/showTray.mouseenter":function(e,t){var n=this;n.$element.find(".pepper-alert-icon").trigger("click"),n.publish("alert/unread/display","ue-hidden")},"dom/action/showTray.mouseleave":function(e,t){var n=this;n.$element.find(".pepper-alert-tray-body").addClass("ue-hidden"),n.publish("alert/unread/display","")},"dom/action/hideTray.mouseleave":function(e,t){var n=this;n.$element.find(".pepper-alert-tray-body").addClass("ue-hidden"),n.publish("alert/unread/display","")},"dom/action/showTray.click":function(e,t){var n=this,r=n.$element.find(".pepper-alert-tray-body");r.toggleClass("ue-hidden");var i=r.hasClass("ue-hidden")?"":"ue-hidden";n.publish("alert/unread/display",i)},"hub/alert/tray/handlePollingAlerts":function(e,t){var n=this;n.handlePollingResult(t)},"hub/alert/tray/remove":function(e,t){var n=this;o.hasOwnProperty(t.alertType)&&(t.alertType==="CommonMsg"?delete o[t.alertType][t.alertID]:delete o[t.alertType],n.saveAlert(t.alertID,"Remove"))},"hub/alert/unread/close":function(e,t){var n=this;o.hasOwnProperty(t.alertType)&&o[t.alertType][t.alertID].data.status==="UnRead"&&(o[t.alertType][t.alertID].data.status="Read",n.saveAlert(t.alertID,"Read"))},"hub/alert/unread/ignore":function(e,t){var n=this;o.hasOwnProperty(t.alertType)&&o[t.alertType][t.alertID].data.status==="UnRead"&&(o[t.alertType][t.alertID].data.status="Ignore",n.saveAlert(t.alertID,"Ignore"))},handlePollingResult:function(e){var t=this,n=i().format("YYYY-MM-DD HH:mm:ss");e.data?s.log("This is for alert - "+n+": alertType:"+e.type+", status:"+e.data.status+", alertID:"+e.data.id):s.log("This is for alert - "+n+": alertType: "+e.type),t.preCheckAlertType(e),t.updateAlerts()},preCheckAlertType:function(e){e.type!=="CommonMsg"&&o.hasOwnProperty(e.type)&&!e.data&&delete o[e.type];if(e.data){e.type==="CommonMsg"?(o[e.type]=o[e.type]||{},o[e.type][e.data.id]=e):(o[e.type]={},o[e.type][e.data.id]=e);if(e.type==="GL"){o[e.type][e.data.id].data.status!=="Remove"&&(o[e.type][e.data.id].data.status="Ignore"),(o.hasOwnProperty("PL")||o.hasOwnProperty("CP20")||o.hasOwnProperty("EFTV"))&&delete o.GL,window.location.href.indexOf(u)>=0&&delete o.GL;return}o.hasOwnProperty("GL")&&delete o.GL}},updateAlerts:function(){var e=this,t=e.sortAllAlerts(o),n=e.splitAllALerts(t),r=e.$element.find(".pepper-alert-tray-body").hasClass("ue-hidden")?"ue-hidden":"";e.updateTray(r,n.trayAlerts),e.publish("alert/unread/update",n.activeAlert)},updateTray:function(e,n){var i=this,s={};s.hasAlert=n.length===0?!1:!0,s.alerts=[],s.iconclass="pepper-alert-read-icon",s.scpreadClass=e;for(var o=0;o<n.length;o++){var u={alertID:n[o].data.id,alertType:n[o].type,status:n[o].data.status,clientPollingDate:n[o].clientDate,nextPolling:n[o].nextPolling,polling:n[o].polling,isIntray:!0};n[o].type==="CommonMsg"?(u.detail=n[o].data.detail,u.picUrl=n[o].data.picUrl,u.title=n[o].data.title,u.url=n[o].data.url):(u.teacherFirstName=n[o].data.teacherFirstName,u.teacherLastName=n[o].data.teacherLastName,u.teacherImage=n[o].data.teacherAvatar,u.popupDuration=n[o].data.popupDwelltimeInSeconds,u.classStartInSeconds=n[o].data.classStartInSeconds,u.classroomUrl=n[o].data.classroomUrl,u.topic=typeof n[o].data.topicTitle!="undefined"?n[o].data.topicTitle:"");if(n[o].data.status==="UnRead"||n[o].data.status==="Ignore")s.iconclass="pepper-alert-unread-icon";s.alerts.push({alertType:n[o].type,content:JSON.stringify(u).replace(/\'/g,"&#39;")})}var a=t.Deferred();return i.html(r,s),t.mCustomScrollbar&&t(".pepper-alert-tray-content").mCustomScrollbar({scrollButtons:{enable:!0},theme:"inset-dark"}),a.promise()},sortAllAlerts:function(e){var t,n,r,i,s,u=[],a=[],f=[],l=[];for(var c in e)switch(c){case"PL":t=o[c];break;case"EFTV":n=o[c];break;case"CP20":r=o[c];break;case"GL":i=o[c];break;case"CommonMsg":s=o[c]}if(t)for(var c in t)u.push(t[c]);if(n)for(var c in n)u.push(n[c]);if(r)for(var c in r)u.push(r[c]);if(i)for(var c in i)u.push(i[c]);if(s)for(var c in s)u.push(s[c]);for(var h=0;h<u.length;h++)u[h].data.status==="UnRead"?f.push(u[h]):u[h].data.status==="Read"?l.push(u[h]):u[h].data.status==="Ignore"&&a.push(u[h]);return{ignoreAlerts:a,sortedAlerts:f.concat(l)}},splitAllALerts:function(e){var t={trayAlerts:[],activeAlert:[]};return e.ignoreAlerts.length===0&&e.sortedAlerts.length===0?t:(e.sortedAlerts.length>0&&e.sortedAlerts[0].data.status==="UnRead"&&t.activeAlert.push(e.sortedAlerts.shift()),t.trayAlerts=e.ignoreAlerts.concat(e.sortedAlerts),t)},saveAlert:function(e,n){var r=this;t.ajax({url:"/services/api/campuscore/command/alertstatus/save",contentType:"application/json",type:"POST",data:JSON.stringify({alertId:e,status:n})}).done(function(e){e.length!==0&&e[0].isSuccess&&r.updateAlerts()})}})}),define("headerfooter/widget/alert/unread/main",["troopjs-ef/component/widget","jquery","module","template!./main.html"],function(e,t,n,r){return e.extend(function(e,t,n){var r=this;r.options=n},{"sig/start":function(t,n){var r=this;return n.resolve()},"hub/alert/unread/update":function(e,t){var n=this,i={};i.hasAlert=t.length===0?!1:!0;if(t.length>0){i.hasAlert=n.options==="courseware"&&t[0].type==="GL"?!1:!0;var s={alertID:t[0].data.id,alertType:t[0].type,status:t[0].data.status,clientPollingDate:t[0].clientDate,nextPolling:t[0].nextPolling,polling:t[0].polling,isIntray:!1};t[0].type==="CommonMsg"?(s.detail=t[0].data.detail,s.picUrl=t[0].data.picUrl,s.title=t[0].data.title,s.url=t[0].data.url):(s.teacherFirstName=t[0].data.teacherFirstName,s.teacherLastName=t[0].data.teacherLastName,s.teacherImage=t[0].data.teacherAvatar,s.popupDuration=t[0].data.popupDwelltimeInSeconds,s.classStartInSeconds=t[0].data.classStartInSeconds,s.classroomUrl=t[0].data.classroomUrl,s.topic=typeof t[0].data.topicTitle!="undefined"?t[0].data.topicTitle:""),i.alert=JSON.stringify(s).replace(/\'/g,"&#39;"),i.alertType=t[0].type}var o=r(i);n.html(o);var u=n.$element.find(".pepper-alert-body");u.delay(100).slideDown(1e3)},"hub/alert/unread/display":function(e,t){var n=this,r=n.$element.find(".pepper-alert-body");r.removeClass("ue-hidden"),r.addClass(t)}})}),define("headerfooter/widget/echo",["troopjs-ef/component/widget"],function(t){var n,r="html",i="text",s="attr",o="selector",u="";return t.extend(function(t,r,i){i!==n&&(this[o]=i)},{echo:function(t){function c(e,n){return t[n]||u}var n=this,a=this.$element,f=a.data(),l={};o in n&&(t=t[n[o]]),$.each(f[s]||!1,function(e,n){t[n]&&(l[e]=t[n])}),a.attr(l),r in f?a.html(f[r].replace(/\${(\w+)}/g,c)):i in f&&a.text(f[i].replace(/\${(\w+)}/g,c))}})}),define("headerfooter/widget/avatar/query",["jquery","module"],function(e,t){var n=t.config()||{},r=function(){return e.ajax({url:n.url||"/community/widgets/headerprofile",type:n.type||"POST",headers:n.headers||{}})};return{query:function(){var e=this;return e.cache||(e.cache=r()),e.cache},clearCache:function(){this.cache=!1}}}),define("headerfooter/widget/avatar/main",["../echo","jquery","./query"],function(e,t,n){return e.extend({"sig/start":function(e,t){var r=this;n.query().done(function(e){e?(r.echo(e),t.resolve()):t.reject()})}})}),define("headerfooter/widget/backtotop/main",["troopjs-ef/component/widget","jquery","module","../configuration/widgetSetting","template!./main.html"],function(e,t,n,r,i){return e.extend({"sig/start":function(t,n){var r=this;return r.html(i),r.$element.find(".ue-back-totop").click(function(e){r.toTop()}),n.resolve()},toTop:function(){var e=document.body.scrollHeight<1040?100:300;t("html,body").animate({scrollTop:0},e)}})}),define("headerfooter/widget/blurb",["./echo","jquery","./configuration/widgetSetting"],function(e,t,n){var r="",i=n.getSetting("context"),s=t.Deferred();return t.when(i).always(function(e){t.ajax({url:"/services/shared/resource/blurb/"+e.CultureCode+"/46874|463024|98861|2362|127082|89481|127120|464818|465084|468225|514843",dataType:"json"}).done(function(t){t[2362]=t[2362].replace(/\\u003c/g,"<").replace(/\\u003e/g,">").replace("\\r",r).replace("\\n",r),s.resolve(t)})}),e.extend({"sig/start":function(t,n){var r=this;s.done(function(e){n.resolve(),r.echo(e)})}})}),define("headerfooter/widget/comet/main",["legacy/comet"],function(){}),define("headerfooter/widget/common/guid",[],function(){var e={},t=function(){return Math.floor(Math.random()*65536).toString(16)};return e.create=function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},e}),define("headerfooter/widget/common/timestampConsole",["./console"],function(e){var t=function(e){return e<10?"0"+e.toString():e.toString()};return{log:function(n){var r=new Date,i=t(r.getHours())+":"+t(r.getMinutes())+":"+t(r.getSeconds());e.log(i+": "+n)}}}),define("headerfooter/widget/common/viewport",["jquery"],function(e){function t(){var t=document.documentElement,n=0;t.offsetWidth<t.scrollWidth&&(n=-(t.scrollLeft||document.body.scrollLeft)),e(".ue-header").css("left",n)}e(window).load(t).scroll(t)}),define("headerfooter/widget/community-deprecation/ec",["troopjs-ef/component/widget","jquery","template!./ec.html"],function(e,t,n){return e.extend({"sig/start":function(t,r){var i=this;i.html(n,{}),r.resolve()},"dom/action.click":t.noop,"dom/action/dismiss.click":function(e,t){var n=this;n.html("",{}),t.preventDefault()}})}),define("headerfooter/widget/community-deprecation/main",["troopjs-ef/component/widget","jquery","template!./main.html"],function(e,t,n){return e.extend({"sig/start":function(t,r){var i=this;i.html(n,{}),r.resolve()},"dom/action.click":t.noop,"dom/action/dismiss.click":function(e,t){var n=this;n.html("",{}),t.preventDefault()}})}),define("headerfooter/widget/footer/main",["troopjs-ef/component/widget","template!./default.html","module","../configuration/widgetSetting"],function(t,n,r,i){function u(e){var t=document.createElement("div");t.innerHTML=e;var n=t.innerText||t.textContent;return t=null,n}var s={B2CCommonFooter:n,PepperCommonFooter:n},o=i.getSetting(r.id);return t.extend({"sig/start":function(t,n){var r=this;o.done(function(e){e.CopyrightText=u(e.CopyrightText),r.html(s[e.FooterWidget],e),r.$element.closest(".ue-footer").toggleClass("footer-pepper-true",e.FooterWidget==="PepperCommonFooter"),n.resolve()})}})}),define("headerfooter/widget/footer-links/main",["troopjs-ef/component/widget","template!./main.html"],function(t,n){return t.extend({"hub:memory/hf/footer/links":function(e,t){this.html(n,t)}})}),define("headerfooter/widget/header/main",["troopjs-ef/component/widget","jquery","module","../configuration/widgetSetting","headerfooter/widget/common/viewport","require"],function(t,n,r,i,s,o){function v(e){l=l||this.$element.closest(".ue-header"),c=c||this.$element.find(".ue-notifications-container"),h=h||this.$element.find(".ue-menu-list"),e>=3?m(h,c)&&l.addClass(p):l.removeClass(p)}function m(e,t){var n=e.offset(),r=t.offset(),i=e.width(),s=t.width(),o=!1;return n.left+i>=r.left&&(o=!0),o}var u={B2CCommonHeader:"template!headerfooter/widget/header/default.html",PepperCommonHeader:"template!headerfooter/widget/header/pepper.html",B2SCommonHeader:"template!headerfooter/widget/header/b2s.html",B2BAnatHeader:"template!headerfooter/widget/header/anat.html",ECLogoHeader:"template!headerfooter/widget/header/eclogo.html",ECMenuHeader:"template!headerfooter/widget/header/ecmenu.html",ECFullHeader:"template!headerfooter/widget/header/ecfull.html"},a=i.getSetting(r.id),f=0,l,c,h,p="ue-compact-state",d=n.extend({notificationEnable:!0},r.config());return t.extend(function(){},{"sig/start":function(t,r){var i=this;n.when(a).always(function(e){o([u[e.HeaderWidget]],function(t){i.featureEnable=n.Deferred(),i.query('ccl!"campus.alerts.enabled"','ccl!"IsFriendsEnabled"',i.featureEnable),i.featureEnable.done(function(n,r){i.html(t,{alertEnable:n.value.toLowerCase()==="true",notificationCCLEnable:r.value.toLowerCase()!=="true",notificationEnable:d.notificationEnable,communityDeprecationNotice:window.location.pathname.indexOf("/community/")!==-1}),i.$element.closest(".ue-header-container").toggleClass("header-pepper-true",e.HeaderWidget==="PepperCommonHeader")})}),r.resolve()})},"hub/header/height":function(t,n){n&&n.resolve(this.$element.parent().outerHeight())},"dom/wrapper/visible":function(e,t){f++,v.call(this,f)},"dom/wrapper/hidden":function(e,t){f--,v.call(this,f)}})}),define("headerfooter/widget/languageselector/main",["troopjs-ef/component/widget","jquery","module","../configuration/widgetSetting","template!./main.html"],function(e,t,n,r,i){var s,o=r.getSetting("context"),u=r.getSetting(n.id),a=n.config()||{};return e.extend({"sig/start":function(n,r){var s=this;t.when(u,o).done(function(e,n){s.html(i,t.extend({languages:e},{context:n})),r.resolve()})},"dom/action.click.mouseover.mouseenter.mouseleave":t.noop,"dom/action/showLanguage.click":function(e,n){n.preventDefault(),this.$element.find(".ue-language-select").slideToggle("fast"),t(n.target).toggleClass("ue-selected")},"dom/action/showLanguage.mouseleave":function(e,t){var n=this;clearTimeout(s),s=setTimeout(function(){n.$element.find(".ue-language-select").slideUp(),n.$element.find(".ue-language-button").removeClass("ue-selected")},1e3)},"dom/action/showLanguage.mouseenter":function(e,t){clearTimeout(s)},"dom/action/hideLanguage.mouseleave":function(e,t){var n=this;clearTimeout(s),s=setTimeout(function(){n.$element.find(".ue-language-select").slideUp(),n.$element.find(".ue-language-button").removeClass("ue-selected")},1e3)},"dom/action/hideLanguage.mouseenter":function(e,t){clearTimeout(s)},"dom/action/changeLanguage.click":function(e,n){n.preventDefault();var r=t(n.target),i=r.attr("data-code"),s=window.location.href.replace(/#[^#]*$/,"").replace(/(&|\?)lng=[^&]*/,"").replace(/\?$|(\?)&/,"$1"),o=window.location.hash;t.ajax({url:a.url||"/services/shared/context/changelanguage",type:a.type||"POST",headers:a.headers||{},data:{lng:i},"data-Type":"json",complete:function(){window.location.href=s+(/\?/.test(s)?"&":"?")+"lng="+encodeURIComponent(i)+o}})}})}),define("headerfooter/widget/logo/main",["troopjs-ef/component/widget","jquery","module","../configuration/widgetSetting","template!./main.html"],function(t,n,r,i,s){var o=i.getSetting(r.id);return t.extend(function(){},{"sig/start":function(t,r){var i=this;n.when(o).always(function(e){i.html(s,e),r.resolve()})}})}),define("headerfooter/widget/menu/item-livegame",["troopjs-ef/component/widget","jquery","template!./item-livegame.html","../common/console"],function(e,t,n,r){return e.extend(function(t,r,i){this.html(n,{Text:i})},{"dom/action.click":t.noop,"dom/action/callLiveGame.click":function(e,n){n.preventDefault();var i=t;$&&$.fn&&t.fn.jquery!=$.fn.jquery&&(r.log("open livegame with jquery "+$.fn.jquery+" instead of "+t.fn.jquery),i=$),i(".ue-livegame .ue-notification").click()}})}),define("headerfooter/widget/menu/item-livehelp",["troopjs-ef/component/widget","jquery","template!./item-livehelp.html","require"],function(e,t,n,r){var i=t.noop,s=function(e){return function(){try{window.LiveAgent.open({fallbackLink:e})}catch(t){}}};return e.extend(function(t,i,s,o){this.html(n,{Text:s,Href:o}),r(["https://c.la1t1.salesforceliveagent.com/content/g/deployment.js"],function(){r(["/school/partners/lls/liveagentscript.aspx"],function(){})})},{"dom/action.click":t.noop,"dom/action/callLiveHelp.click":function(e,t){t.preventDefault(),i.call(null)},"hub:memory/hf/menu":function(t,n){try{var r=n["Main.Support.2012"].MenuItemList[0].MenuItemList,o=$.grep(r,function(e,t){return e.MenuItemTypeCode==="School.ContactUs.2012"})[0];i=s(o.Url),this.publish("hf/menu/livehelp/ready",{action:i})}catch(u){}}})}),define("headerfooter/widget/menu/item-techcheck",["troopjs-ef/component/widget","jquery","template!./item-techcheck.html","require","config"],function(e,t,n,r,i){var s=function(e,t){var n,r=function(e){return typeof e=="string"||e instanceof String};return e=r(e)?document.getElementById(e):e,document.createEvent?(n=document.createEvent("HTMLEvents"),n.initEvent(t,!0,!0),!e.dispatchEvent(n)):(n=document.createEventObject(),e.fireEvent("on"+t,n))};return e.extend(function(t,r,i,s){this.html(n,{Text:i,Href:unescape(s)})},{"sig/start":function(){var e=this,n=e.$element.closest(".ue-header");n.append(t("<div>")),e.$launcher=n.children(":last"),e.versionDfd=t.Deferred(),e.query('ccl!"techcheck-wrapper.version"',e.versionDfd)},"dom/action.click":t.noop,"dom/action/techCheck.click":function(e,t){var n=this;t.preventDefault(),n.versionDfd.state()==="resolved"&&n.versionDfd.done(function(e){var t=i.cacheServer+"/_shared/techcheck-wrapper/"+e.value+"/common.js";r([t],function(){define("techcheck-wrapper/config",[],{cacheServer:i.cacheServer,container:n.$launcher}),s(n.$launcher[0],"open")})})}})}),define("headerfooter/widget/menu/item-translator",["troopjs-ef/component/widget","jquery","template!./item-translator.html"],function(e,t,n){function r(){window.open("/translator/?newcourseware=true","Translator","height=740px,width=680px,top=0,left=0,toolbar=no,resizable=yes,location=no,status=no,scrollbars=yes").focus()}return e.extend(function(t,r,i,s){this.html(n,{Text:i,Href:unescape(s)})},{"dom/action.click":t.noop,"dom/action/showDict.click":function(e,t){t.preventDefault(),r()}})}),define("headerfooter/widget/menu/item",["../echo"],function(t){return t.extend({"hub:memory/hf/menu":function(t,n){this.echo(n)}})}),define("headerfooter/widget/menu/items",["troopjs-ef/component/widget","template!./items.html"],function(t,n){var r="selector";return t.extend(function(t,n,i){arguments.length>2&&(this[r]=i)},{"hub:memory/hf/menu":function(t,i){var s=this;r in s&&(i=i[s[r]]),s.html(n,i.MenuItemList)}})}),define("headerfooter/widget/menu/main",["troopjs-ef/component/widget","jquery","../configuration/widgetSetting","module","template!./main.html"],function(t,n,r,i,s){function b(e){e.each(function(){var e=n(this),t=e.width()+m;e.css("minWidth",t)})}function w(e){var t=30,r=200,i=200,s=e.find("> li:has(.ue-menu)");s.each(function(e,o){function p(e){var i=n(e.currentTarget).closest("li"),o=i.find("> a"),p=i.find("> .ue-menu"),d=p.find("thead th").length;if(p.is(":visible")&&!f)return;if(p.is(":visible")&&e.type=="click"){n(this).trigger("mouseleave");return}s.find("> a").removeClass(h),s.find("> .ue-menu").stop(!0,!0).hide(),a=!0,o.addClass(h),c||(c=-(p.outerWidth()+d*g-(u.width()-m))/2);if(!f){p.show(0,function(){l&&(function(e){var t=[],r=0;e.each(function(e,i){var s=0,o=n(i);r=e%d,s=o.width(),t[r]=s>(t[r]||0)?s:t[r]}),e.each(function(e,r){var i=n(r);i.width(t[e%d]+g)})}(p.find(".ue-td > p")),l=!1)}).css("left",c-t).animate({left:c,opacity:1},r,function(){f=!0});return}p.show()}var u=n(o),a=!1,f=!1,l=!0,c=0,h="ue-hover";u.on("mouseenter",p).on("click","a.ue-menu-link",p).on("mouseleave",function(e){e.preventDefault();var s=n(e.currentTarget),o=s.find("> a"),u=s.find("> .ue-menu");a=!1,setTimeout(function(){if(a)return;o.removeClass(h),u.animate({left:"+="+t,opacity:0},r,function(){var e=n(this);e.hide()}),f=!1},i)}),u.find("> a").on("click",function(e){e.preventDefault();var t=n(e.currentTarget);t.toggleClass("ue-hover")})})}function E(e,t){return e[f]-t[f]}function S(e){n.each(e?e.sort(E):!1,function(e,t){t.hasOwnProperty(a)&&S(t[a])})}function x(e,t){return n.each(e||!1,function(e,n){n.hasOwnProperty(a)&&(t[n[u]]=n,x(n[a],t))}),t}function T(e){var t=[],n;for(var r=0,i=e.length;r<i;r++){var s=e[r],o;if(s&&s[u]===l){o=s[a];if(o){for(var f=0,h=o.length;f<h;f++)if(o[f][u]===c){var p=o[f][a];for(var d=0,v=p.length;d<v;d++)t.push(p[d]);isNaN(n)?n=f:o.splice(f,1)}isNaN(n)||(o[n][a]=t.sort(E))}}}}var o=Array.prototype.push,u="MenuItemTypeCode",a="MenuItemList",f="DisplayOrder",l="Main.Community.2012",c="Community.Magazine.2012",h="MainMenu",p="ProfilePlusMenu",d="FooterMenu",v=i.config()||{};v.top=v.top||{},v.school=v.school||{},v.community=v.community||{};var m=8,g=20,y=r.getSetting("context");return t.extend({"sig/start":function(t,r){var i=this;n.when(y).always(function(e){var t={id:e.MemberId,d:(new Date).getTime()},s=n.ajax({url:v.top.url||"/school/menu/top",type:v.top.type||"GET",headers:v.top.headers||{},data:t,dataType:"json"});s.then(function(e){i.render(e.MainMenu);var s=n.ajax({url:v.community.url||"/community/menu/load",type:v.community.type||"GET",headers:v.community.headers||{},data:t,dataType:"json"}),u=n.ajax({url:v.school.url||"/school/menu/all",type:v.school.type||"GET",headers:v.school.headers||{},data:t,dataType:"json"}),f=n.Deferred(function(e){u.then(function(t){var n=x(t[h],{});n.items=t[h],l in n?s.then(function(t){o.apply(n[l][a],t[h]),e.resolve(x(t[h],n))},e.reject,e.notify):e.resolve(n)},e.reject,e.notify)});f.done(function(t){S(t.items),T(t.items),i.publish("hf/menu",t),r.resolve()});var c=n.Deferred(function(e){u.then(function(t){var n=t[p];n.sort(E),e.resolve(n)},e.reject,e.notify)});c.done(function(e){i.publish("hf/profile/links",e)});var m=n.Deferred(function(e){u.then(function(t){var n=t[d];n.sort(E),e.resolve(n)},e.reject,e.notify)});m.done(function(e){i.publish("hf/footer/links",e)})})}),r.resolve()},render:function(e){var t=this;t.html(s,e),b(t.$element.find("> li > a > span"))},"hub:memory/hf/menu":function(t,n){var r=this;r.render(n.items),w(r.$element)},toggleMenu:function(e,t){typeof t!="undefined"?this.$element.find('li[data-code="'+e+'"]').trigger(t?"mouseenter":"mouseleave"):this.$element.find('li[data-code="'+e+'"]').find(" > a.ue-menu-link").click()}})}),define("headerfooter/widget/menu-pepper/item-livegame",["troopjs-ef/component/widget","jquery","template!./item-livegame.html","../common/console"],function(e,t,n,r){return e.extend(function(t,r,i){this.html(n,{Text:i})},{"dom/action.click":t.noop,"dom/action/callLiveGame.click":function(e,n){n.preventDefault();var i=t;$&&$.fn&&t.fn.jquery!=$.fn.jquery&&(r.log("open livegame with jquery "+$.fn.jquery+" instead of "+t.fn.jquery),i=$),i(".ue-livegame .ue-notification").click()}})}),define("headerfooter/widget/menu-pepper/item-livehelp",["troopjs-ef/component/widget","jquery","template!./item-livehelp.html","require"],function(e,t,n,r){var i=t.noop,s=function(e){return function(){try{window.LiveAgent.open({fallbackLink:e})}catch(t){}}};return e.extend(function(t,i,s,o){this.html(n,{Text:s,Href:o}),r(["https://c.la1t1.salesforceliveagent.com/content/g/deployment.js"],function(){r(["/school/partners/lls/liveagentscript.aspx"],function(){})})},{"dom/action.click":t.noop,"dom/action/callLiveHelp.click":function(e,t){t.preventDefault(),i.call(null)},"hub:memory/hf/menu":function(t,n){try{var r=n["Main.Support.2012"].MenuItemList[0].MenuItemList,o=$.grep(r,function(e,t){return e.MenuItemTypeCode==="School.ContactUs.2012"})[0];i=s(o.Url),this.publish("hf/menu/livehelp/ready",{action:i})}catch(u){}}})}),define("headerfooter/widget/menu-pepper/item-techcheck",["troopjs-ef/component/widget","jquery","template!./item-techcheck.html","require","config"],function(e,t,n,r,i){var s=function(e,t){var n,r=function(e){return typeof e=="string"||e instanceof String};return e=r(e)?document.getElementById(e):e,document.createEvent?(n=document.createEvent("HTMLEvents"),n.initEvent(t,!0,!0),!e.dispatchEvent(n)):(n=document.createEventObject(),e.fireEvent("on"+t,n))};return e.extend(function(t,r,i,s){this.html(n,{Text:i,Href:unescape(s)})},{"sig/start":function(){var e=this,n=e.$element.closest(".ue-header");n.append(t("<div>")),e.$launcher=n.children(":last"),e.versionDfd=t.Deferred(),e.query('ccl!"techcheck-wrapper.version"',e.versionDfd)},"dom/action.click":t.noop,"dom/action/techCheck.click":function(e,t){var n=this;t.preventDefault(),n.versionDfd.state()==="resolved"&&n.versionDfd.done(function(e){var t=i.cacheServer+"/_shared/techcheck-wrapper/"+e.value+"/common.js";r([t],function(){define("techcheck-wrapper/config",[],{cacheServer:i.cacheServer,container:n.$launcher}),s(n.$launcher[0],"open")})})}})}),define("headerfooter/widget/menu-pepper/item-translator",["troopjs-ef/component/widget","jquery","template!./item-translator.html"],function(e,t,n){function r(){window.open("/translator/?newcourseware=true","Translator","height=740px,width=680px,top=0,left=0,toolbar=no,resizable=yes,location=no,status=no,scrollbars=yes").focus()}return e.extend(function(t,r,i,s){this.html(n,{Text:i,Href:unescape(s)})},{"dom/action.click":t.noop,"dom/action/showDict.click":function(e,t){t.preventDefault(),r()}})}),define("headerfooter/widget/menu-pepper/item",["../echo"],function(t){return t.extend({"hub:memory/hf/menu":function(t,n){this.echo(n)}})}),define("headerfooter/widget/menu-pepper/items",["troopjs-ef/component/widget","template!./items.html"],function(t,n){var r="selector";return t.extend(function(t,n,i){arguments.length>2&&(this[r]=i)},{"hub:memory/hf/menu":function(t,i){var s=this;r in s&&(i=i[s[r]]),s.html(n,i.MenuItemList)}})}),define("headerfooter/widget/menu-pepper/main",["troopjs-ef/component/widget","jquery","../configuration/widgetSetting","module","template!./main.html"],function(t,n,r,i,s){function b(e){e.each(function(){var e=n(this),t=e.width()+m;e.css("minWidth",t)})}function w(e){var t=30,r=0,i=0,s=e.find("> li:has(.ue-menu)");s.each(function(e,o){function p(e){var i=n(e.currentTarget).closest("li"),o=i.find("> a"),u=i.find("> .ue-menu"),p=u.find("thead th").length;if(u.is(":visible")&&!f)return;if(u.is(":visible")&&e.type=="click"){n(this).trigger("mouseleave");return}s.find("> a").removeClass(h),s.find("> .ue-menu").stop(!0,!0).hide(),a=!0,o.addClass(h),c||(c=-1);if(!f){u.show(0,function(){l&&(function(e){var t=[],r=0;e.each(function(e,i){var s=0,o=n(i);r=e%p,s=o.width(),t[r]=s>(t[r]||0)?s:t[r]}),e.each(function(e,r){var i=n(r);i.width(t[e%p]+g)})}(u.find(".ue-td > a")),l=!1)}).css("left",c-t).animate({left:c,opacity:1},r,function(){f=!0});return}u.show()}var u=n(o),a=!1,f=!1,l=!0,c=0,h="ue-hover";u.on("mouseenter",p).on("click","a.ue-menu-link",p).on("mouseleave",function(e){e.preventDefault();var s=n(e.currentTarget),o=s.find("> a"),u=s.find("> .ue-menu");a=!1,setTimeout(function(){if(a)return;o.removeClass(h),u.animate({left:"+="+t,opacity:0},r,function(){var e=n(this);e.hide()}),f=!1},i)}),u.find("> a").on("click",function(e){var t=n(e.currentTarget),r=t.siblings(".ue-menu").find("tr").length>0;r&&e.preventDefault(),t.toggleClass("ue-hover")})})}function E(e,t){return e[f]-t[f]}function S(e){n.each(e?e.sort(E):!1,function(e,t){t.hasOwnProperty(a)&&S(t[a])})}function x(e,t){return n.each(e||!1,function(e,n){n.hasOwnProperty(a)&&(t[n[u]]=n,x(n[a],t))}),t}function T(e){var t=[],n;for(var r=0,i=e.length;r<i;r++){var s=e[r],o;if(s&&s[u]===l){o=s[a];if(o){for(var f=0,h=o.length;f<h;f++)if(o[f][u]===c){var p=o[f][a];for(var d=0,v=p.length;d<v;d++)t.push(p[d]);isNaN(n)?n=f:o.splice(f,1)}isNaN(n)||(o[n][a]=t.sort(E))}}}}var o=Array.prototype.push,u="MenuItemTypeCode",a="MenuItemList",f="DisplayOrder",l="Main.Community.2012",c="Community.Magazine.2012",h="MainMenu",p="ProfilePlusMenu",d="FooterMenu",v=i.config()||{};v.top=v.top||{},v.school=v.school||{},v.community=v.community||{};var m=8,g=20,y=r.getSetting("context");return t.extend({"sig/start":function(t,r){var i=this;n.when(y).always(function(e){var t={id:e.MemberId,d:(new Date).getTime()},s=n.ajax({url:v.top.url||"/school/menu/top",type:v.top.type||"GET",headers:v.top.headers||{},data:t,dataType:"json"});s.then(function(e){i.render(e.MainMenu);var s=n.ajax({url:v.community.url||"/community/menu/load",type:v.community.type||"GET",headers:v.community.headers||{},data:t,dataType:"json"}),u=n.ajax({url:v.school.url||"/school/menu/all",type:v.school.type||"GET",headers:v.school.headers||{},data:t,dataType:"json"}),f=n.Deferred(function(e){u.then(function(t){var n=x(t[h],{});n.items=t[h],l in n?s.then(function(t){o.apply(n[l][a],t[h]),e.resolve(x(t[h],n))},e.reject,e.notify):e.resolve(n)},e.reject,e.notify)});f.done(function(t){S(t.items),T(t.items),i.publish("hf/menu",t),r.resolve()});var c=n.Deferred(function(e){u.then(function(t){var n=t[p];n.sort(E),e.resolve(n)},e.reject,e.notify)});c.done(function(e){i.publish("hf/profile/links",e)});var m=n.Deferred(function(e){u.then(function(t){var n=t[d];n.sort(E),e.resolve(n)},e.reject,e.notify)});m.done(function(e){i.publish("hf/footer/links",e)})})}),r.resolve()},render:function(e){var t=this;t.html(s,e),b(t.$element.find("> li > a > span"))},"hub:memory/hf/menu":function(t,n){var r=this;r.render(n.items),w(r.$element),r.publish("alert/init")},toggleMenu:function(e,t){typeof t!="undefined"?this.$element.find('li[data-code="'+e+'"]').trigger(t?"mouseenter":"mouseleave"):this.$element.find('li[data-code="'+e+'"]').find(" > a.ue-menu-link").click()}})}),define("headerfooter/widget/notification/base",["troopjs-ef/component/widget","jquery","../common/guid"],function(t,n,r){function a(){return this.$element.data("disable-popup")}var i,s=3e3,o=6e3,u=15e3;return t.extend(function(){this.Id=r.create()},{flashWrapper:function(t){var n=this;return n.trigger("wrapper/beforevisible"),n.$element.stop(!1,!1).fadeIn(0,function(){n.$element.show(),n.trigger("wrapper/visible")}).delay(t||u).fadeOut(0,function(){n.trigger("wrapper/hidden")}).promise()},showWrapper:function(){var t=this;return t.trigger("wrapper/beforevisible"),t.$element.stop(!1,!1).fadeIn(0,function(){t.trigger("wrapper/visible")}).promise()},hideWrapper:function(t){var n=this;return n.$element.stop(!0,!0).fadeOut(t,function(){n.trigger("wrapper/hidden")}).promise()},flashBadge:function(t){var n=this;return n.$element.find(".ue-badge").stop(!0,!0).fadeIn(i,function(){n.trigger("badge/visible")}).delay(t||o).fadeOut(i,function(){n.trigger("badge/hidden")}).promise()},showBadge:function(){var t=this;return t.$element.find(".ue-badge").stop(!0,!0).show(0,function(){t.trigger("badge/visible")}).promise()},hideBadge:function(t){var n=this;return n.$element.find(".ue-badge").stop(!0,!0).fadeOut(t,function(){n.trigger("badge/hidden")}).promise()},flashPopup:function(t){if(a.call(this))return;var n=this;return n.$element.find(".ue-notification").stop(!0,!0).fadeIn(i,function(){n.trigger("popup/visible")}).delay(t||s).fadeOut(i,function(){n.trigger("popup/hidden")}).promise()},showPopup:function(){if(a.call(this))return;var t=this;return t.$element.find(".ue-notification").stop(!0,!0).fadeIn(i,function(){t.trigger("popup/visible")}).promise()},hidePopup:function(){var t=this;return t.$element.find(".ue-notification").stop(!0,!0).hide(0,function(){t.trigger("popup/hidden")}).promise()},hideAll:function(){var e=this;return n.when(e.setCount(0),e.hideBadge(0),e.hidePopup()).promise()},setCount:function(t){var n=this;return this.publish("hf/notification/setCount",this.moduleName,t),t>0?n.$element.find(".ue-badge").text(t>99?"99+":t).promise():n.$element.find(".ue-badge").empty().promise()},setMessage:function(t){var n=this;return n.$element.find(".ue-chat_body").html(t.content).end().find(".ue-avatar img").attr("src","/community/ImageHandler.ashx?id="+t.image+"&ver="+t.ver).promise()},retrieve:function(t){this.publish("hf/notification/retrieve",this.moduleName,t)},"hub/hf/notification/disablePopup":function(){this.$element.data("disable-popup",!this.$element.data("fullscreen"))},"hub/hf/notification/enablePopup":function(){this.$element.data("disable-popup",!1)},"dom/popup/block":function(t,n,r){var i=this.$element;i.attr("data-priority")<r&&(i.attr("data-blocked")||0)<r&&i.attr("data-blocked",r).trigger("popup/blocked",r)},"dom/popup/unblock":function(t,n,r){var i=this.$element;i.attr("data-blocked")<=r&&i.removeAttr("data-blocked").trigger("popup/unblocked")},"dom/popup/hide":function(){this.hidePopup()}})}),define("headerfooter/widget/notification/services/evc",["troopjs-core/component/widget","jquery","../../common/timestampConsole"],function(t,n,r){function l(e){n.ajax({url:"/community/setting/evc",dataType:"json",success:function(t){e.stillCurrentClass?e.onCurrentClassUpdated(t):e.onNextClassLoaded(t)},error:function(){r.log(arguments)}})}function c(e){var t={};if(typeof e!="object")return;r.log("sending request from evc service"),t.onNextClassLoaded=e.onNextClassLoaded||n.noop,t.onCurrentClassUpdated=e.onCurrentClassUpdated||n.noop,t.stillCurrentClass=e.stillCurrentClass||!1,t.delayRequest=e.delayRequest||!1,t.delayRequest?setTimeout(function(){l(t)},i*1e3):l(t)}function h(e){return Math.min(e,u)}var i=5,s=15,o=3,u=14400,a="hf/notification/evc/event/start",f="hf/notification/evc/event/expired";return t.extend(function(){var e=this;this.onNextClassLoaded=function(t){e.publish("hf/service/evc/class",t)},this.onCurrentClassUpdated=function(t){if(t||t.GL||!t.GL.IsClassStarted)return;r.log("notification expired in "+t.GL.SecondsLeftForEnter+" seconds"),setTimeout(function(){e.publish("hf/service/evc/notification/expired")},h(t.GL.SecondsLeftForEnter)*1e3)},c({onNextClassLoaded:e.onNextClassLoaded,delayRequest:!0})},{"hub/hf/service/evc/class":function(e,t){var n=this,i;if(typeof t=="undefined"||typeof t.GL=="undefined"||!t.GL){r.log("Either no GL feature, or no GL class scheduled.");return}i=t.GL.IsClassStarted?0:t.GL.SecondsLeftForStart<=s?0:t.GL.SecondsLeftForStart-s;if(i==0){n.publish("hf/service/evc/notification",t);return}if(i>u){r.log("stop waiting");return}t.GL.SecondsLeftForStart=s,setTimeout(function(){n.publish("hf/service/evc/class",t)},h(i)*1e3),r.log("check it again in "+i+" seconds")},"hub/hf/service/evc/notification":function(e,t){r.log("new notification");var n=this;n.publish(a,{SuppressNotification:t.GL.SuppressNotification,SubServiceType:t.GL.SubServiceType||""});if(t.GL.IsClassStarted){r.log("notification expired in "+t.GL.SecondsLeftForEnter+" seconds");var i=function(){n.publish("hf/service/evc/notification/expired")};setTimeout(i,h(t.GL.SecondsLeftForEnter)*1e3)}else{r.log("update current class info in "+t.GL.SecondsLeftForStart+" seconds");var i=function(){c({onCurrentClassUpdated:n.onCurrentClassUpdated,stillCurrentClass:!0})};setTimeout(i,h(t.GL.SecondsLeftForStart)*1e3)}},"hub/hf/service/evc/notification/expired":function(e,t){r.log("notification expired");var n=this;n.publish(f),c({onNextClassLoaded:n.onNextClassLoaded})}}).apply(t).start()}),define("headerfooter/widget/notification/evc",["./base","./services/evc","template!./evc.html","jquery","troopjs-utils/deferred","troopjs-utils/when","../common/timestampConsole"],function(t,n,r,i,s,o,u){var a=5e3,f="CROC",l="";return t.extend({"sig/start":function(t,n){this.html(r,n)},"hub/hf/notification/evc/event/start":function(t,n){var r=this;r.showWrapper(),r.currentSubServiceType=n.SubServiceType;if(n.SuppressNotification)return;r.$element.is("[data-blocked]")||r.flashPopup(a)},"hub:memory/hf/menu":function(t,n){try{var r=this,i=n["Main.Support.2012"].MenuItemList[0].MenuItemList,s=$.grep(i,function(e,t){return e.MenuItemTypeCode==="School.OrientationClass.2012"})[0];r.OrientationClassUrl=s.Url}catch(o){}},flashPopup:function(n){var r=this;r.toggleMessage(),t.prototype.flashPopup.call(r,n)},toggleMessage:function(){var t=this,n=t.$element.find(".ue-msg-default-gl"),r=t.$element.find(".ue-msg-alt-oc");t.currentSubServiceType==f?(n.hide(),r.show()):(n.show(),r.hide())},"hub/hf/notification/evc/event/expired":function(t,n){var r=this;r.hideWrapper()},"dom/action.click.mouseover.mouseenter.mouseleave":i.noop,"dom/wrapper/beforevisible":function(e,t){this.$element.children().removeClass("ue-hidden-state")},"dom/action/showEvcPopup.click":function(e,t){t.preventDefault(),this.flashPopup(a)},"dom/action/enterClass.click":function(e,t){var n=this;u.log("entering class"),t.preventDefault(),this.hidePopup(),n.currentSubServiceType==f?n.OrientationClassUrl&&(window.location.href=n.OrientationClassUrl):window.location.href="/school/evc/gl"}})}),define("headerfooter/widget/notification/toolbar",["require","headerfooter/widget/comet/main"],function(e){e(["legacy/toolbar"],function(){})}),define("headerfooter/widget/notification/services/base",["troopjs-ef/component/gadget","jquery"],function(e,t){function n(e){return this.moduleName==e}return e.extend(function(e){this.moduleName=e,this.message=[]},{"hub/hf/notification/push":function(e,r){if(!n.call(this,r.type))return;var i=this,s=r.message;t.isNumeric(s)?i.message.length=s:t.isPlainObject(s)&&i.message.push(s),this.publish("hf/notification/"+this.moduleName+"/new",i.message)},"hub/hf/notification/retrieve":function(e,t,r){if(!n.call(this,t))return;this.message.length>0?r.resolve(this.message):r.reject()},"hub/hf/notification/setCount":function(e,t,r){if(!n.call(this,t))return;this.message.length=r}})}),define("headerfooter/widget/notification/services/im",["./base","jquery"],function(e,t){return e.extend(function(){},{}).apply(e,["im"]).start()}),define("headerfooter/widget/notification/im",["./base","template!./im.html","./toolbar","./services/im"],function(t,n,r,i){function s(){$("#cim-btnchatwindow").click()}function o(){$(".cim-chat-popup").last().find(".cont").click()}return t.extend({moduleName:i.moduleName,"sig/start":function(t,r){var i=this;this.html(n,r),r.done(function(){i.showWrapper(),i.publish("hf/notification/im/instance")})},"hub/hf/notification/im/instance":function(t,n){this.publish("hf/notification/im/sync",{InstanceId:this.Id})},"hub/hf/notification/im/sync":function(t,n){var r=this;if(n.InstanceId==this.Id)return;this.retrieve($.Deferred().done(function(e){r.setCount(e.length),r.showBadge(),r.setCount(e.length),(e.length||0)>0&&r.showBadge()}))},"hub/hf/notification/im/new":function(t,n){var r=this,i=n[n.length-1];i&&i.content?(r.setCount(n.length),r.setMessage(i),r.showBadge()):(r.setCount(n.length),r.showBadge())},"hub/hf/notification/im/hideAll":function(){this.hideAll()},"dom/action.click.mouseover.mouseenter.mouseleave":jQuery.noop,"dom/action/showIM.click":function(e,t){t.preventDefault();var n=this;this.publish("hf/notification/im/hideAll"),s()},"dom/action/showLatestConversation.click":function(e,t){t.preventDefault();var n=this;this.publish("hf/notification/im/hideAll"),o()}})}),define("headerfooter/widget/notification/services/inbox",["./base","jquery"],function(e,t){return e.extend(function(){},{}).apply(e,["inbox"]).start()}),define("headerfooter/widget/notification/inbox",["./base","template!./inbox.html","jquery","./services/inbox"],function(t,n,r,i){return t.extend({moduleName:i.moduleName,"sig/start":function(t,r){var i=this;this.html(n,r.done(function(){i.showWrapper(),i.publish("hf/notification/inbox/instance")}))},"hub:memory/hf/notification/inbox/new":function(t,n){var r=this;r.setCount(n.length),r.showBadge()},"hub/hf/notification/inbox/sync":function(e,t){var n=this;if(t.InstanceId==n.Id)return;this.retrieve(r.Deferred().done(function(e){n.publish("hf/notification/inbox/new",e)}))},"hub/hf/notification/inbox/instance":function(t){this.publish("hf/notification/inbox/sync",{InstanceId:this.Id})}})}),define("headerfooter/widget/notification/services/livegame",["require","./base","jquery","../../common/console"],function(e,t,n,r){return t.extend(function(){e(["legacy/game/livegame-config"],function(){n.ajax({url:"/community/setting/livegame",dataType:"json",success:function(t){ET.School.Social.LiveGame.config(t),e(["jquery-jsonp","headerfooter/widget/comet/main","legacy/game/livegame-trigger","legacy/game/livegame-ui"],function(){ET.Chat.liveGame.init(),r.log("livegame service init")})}})})},{}).apply(t,["livegame"]).start()}),define("headerfooter/widget/notification/livegame",["./base","jquery","template!./livegame.html","jquery.fancybox","./services/livegame"],function(t,n,r,i,s){function o(){var e=n("#headerfooter_notification_manager .ue-livegame .ue-notification");this.$element.find(".ue-notification")!=e&&e.trigger("click.fb")}return t.extend({moduleName:s.moduleName,"sig/start":function(t,n){var i=this;i.html(r,n),n.done(function(){i.publish("hf/notification/livegame/instance")})},"hub/hf/notification/livegame/new":function(t,n){var r=this;r.flashWrapper(),r.$element.is("[data-blocked]")||r.flashPopup()},"hub/hf/notification/livegame/sync":function(e,t){var r=this;if(t.InstanceId==r.Id)return;this.retrieve(n.Deferred().done(function(e){r.publish("hf/notification/livegame/new",e)}))},"hub/hf/notification/livegame/instance":function(t){this.publish("hf/notification/livegame/sync",{InstanceId:this.Id})},"dom/wrapper/beforevisible":function(e,t){this.$element.find(".ue-livegame").removeClass("ue-hidden-state")},"dom/wrapper/hidden":function(e,t){},"dom/action.click.mouseover.mouseenter.mouseleave":n.noop,"dom/action/showPopup.click":function(e,t){t.preventDefault(),this.flashPopup()},"dom/action/showLiveGame.click":function(e,t){t.preventDefault(),this.hidePopup(),o.call(this)}})}),define("headerfooter/widget/notification/main",["troopjs-ef/component/widget","template!./main.html","jquery","headerfooter/widget/common/console"],function(e,t,n,r){var i="fullscreen",s=/^\/school\//,o=!1;return e.extend(function(e,t,r){var s=this;if(!o){o=!0;var u=n.ajax({url:"/community/feature/list",type:"POST"}).done(function(t){s.alertEnable=n.Deferred(),s.query('ccl!"campus.alerts.enabled"',s.alertEnable),s.alertEnable.done(function(e){t.alertEnable=e.value==="true",s.publish("hf/features",t)})})}this.$element[0].onkeyup=function(e,t,n){s.publish("hf/notification/push",{type:t,message:n})},this[i]=r===i},{"hub:memory/hf/features":function u(e,u){u[i]=this[i],this.html(t,u)},"hub/activity/launcher/open":function(t,n){this.publish("hf/notification/disablePopup")},"hub/activity/launcher/close":function(t,n){this.publish("hf/notification/enablePopup")},"hub/render/activity/container":function(t,n){this.publish("hf/notification/disablePopup")},"hub/activity/closed":function(t,n){this.publish("hf/notification/enablePopup")},"dom/popup/visible":function(t,r){var i=r.target,s=n(i).attr("data-priority");this.$element.find("[data-priority]").not(i).trigger("popup/block",s)},"dom/popup/hidden":function(t,r){var i=r.target,s=n(i).attr("data-priority");this.$element.find("[data-priority]").not(i).trigger("popup/unblock",s)}})}),define("headerfooter/widget/omniture/base",["module"],function(e){return}),define("headerfooter/widget/omniture/main",["troopjs-ef/component/widget","jquery","./base"],function(e,t,n){return e.extend(function(e,t,n,r){})}),define("headerfooter/widget/profile/main",["troopjs-ef/component/widget","jquery","template!./main.html","../avatar/query"],function(t,n,r,i){var s,o;return t.extend(function(){var e=this,t=e.$element;t.delegate(".ue-userbox > a","click",function(e){e.preventDefault()}),t.delegate(".ue-userbox","mouseenter",function(e){t.find(".ue-cross").addClass("swing"),o=setTimeout(function(){t.find(".ue-userbox-detail").show(100)},2700)}).delegate(".ue-userbox","mouseleave",function(e){t.find(".ue-cross").removeClass("swing"),clearTimeout(o)}),t.delegate(".ue-userbox-detail","mouseenter",function(e){clearTimeout(s)}).delegate(".ue-userbox-detail","mouseleave",function(){s=setTimeout(function(){t.find(".ue-userbox-detail").hide(200)},200)})},{"sig/start":function(t,n){var i=this;i.html(r),n.resolve()},"dom/action.click.mouseover.mouseenter.mouseleave":n.noop,"dom/action/expandUserbox.click":function(){var e=this.$element;clearTimeout(s),e.find(".ue-userbox-detail").show()},"dom/action/manualShrink.click":function(e,t){t.preventDefault();var n=this.$element;clearTimeout(o),n.find(".ue-userbox-detail").hide()},refreshAvatar:function(){var e=this,t=n.Deferred();return i.clearCache(),e.html(r,t),t.promise()},"dom/refresh":function(){var e=this;e.refreshAvatar()},"hub/hf/profile/avatar/changed":function(){var e=this;e.refreshAvatar()}})}),define("headerfooter/widget/profile/main_b2s",["troopjs-ef/component/widget","jquery","template!./main_b2s.html","../avatar/query"],function(t,n,r,i){var s,o;return t.extend(function(){var e=this,t=e.$element;t.delegate(".ue-userbox > a","click",function(e){e.preventDefault()}),t.delegate(".ue-userbox","mouseenter",function(e){t.find(".ue-cross").addClass("swing"),o=setTimeout(function(){t.find(".ue-userbox-detail").show(100)},2700)}).delegate(".ue-userbox","mouseleave",function(e){t.find(".ue-cross").removeClass("swing"),clearTimeout(o)}),t.delegate(".ue-userbox-detail","mouseenter",function(e){clearTimeout(s)}).delegate(".ue-userbox-detail","mouseleave",function(){s=setTimeout(function(){t.find(".ue-userbox-detail").hide(200)},200)})},{"sig/start":function(t,n){var i=this;i.html(r),n.resolve()},"dom/action.click.mouseover.mouseenter.mouseleave":n.noop,"dom/action/expandUserbox.click":function(){var e=this.$element;clearTimeout(s),e.find(".ue-userbox-detail").show()},"dom/action/manualShrink.click":function(e,t){t.preventDefault();var n=this.$element;clearTimeout(o),n.find(".ue-userbox-detail").hide()},"dom/refresh":function(){var e=this,t=n.Deferred();return i.clearCache(),e.html(r,t),t.promise()}})}),define("headerfooter/widget/profile-links/main",["troopjs-ef/component/widget","template!./main.html"],function(t,n){return t.extend({"hub:memory/hf/profile/links":function(e,t){this.html(n,t)}})}),define("headerfooter/widget/profile-pepper/main",["troopjs-ef/component/widget","jquery","template!./main.html","../avatar/query"],function(t,n,r,i){var s;return t.extend(function(){var e=this,t=e.$element;t.delegate(".ue-userbox > a","click",function(e){e.preventDefault()}),t.delegate(".ue-userbox","mouseenter",function(e){clearTimeout(s),t.find(".ue-userbox-detail").show(),t.find(".ue-userbox").addClass("expanded")}).delegate(".ue-userbox","mouseleave",function(){s=setTimeout(function(){t.find(".ue-userbox-detail").hide(),t.find(".ue-userbox").removeClass("expanded")},200)})},{"sig/start":function(t,n){var i=this;i.html(r),n.resolve()},"dom/action.click.mouseover.mouseenter.mouseleave":n.noop,"dom/action/manualShrink.click":function(e,t){t.preventDefault();var n=this.$element;n.find(".ue-userbox-detail").hide()},refreshAvatar:function(){var e=this,t=n.Deferred();return i.clearCache(),e.html(r,t),t.promise()},"dom/refresh":function(){var e=this;e.refreshAvatar()},"hub/hf/profile/avatar/changed":function(){var e=this;e.refreshAvatar()}})}),define("headerfooter/widget/profile-pepper/main_b2s",["troopjs-ef/component/widget","jquery","template!./main_b2s.html","../avatar/query"],function(t,n,r,i){var s,o;return t.extend(function(){var e=this,t=e.$element;t.delegate(".ue-userbox > a","click",function(e){e.preventDefault()}),t.delegate(".ue-userbox","mouseenter",function(e){t.find(".ue-cross").addClass("swing"),o=setTimeout(function(){t.find(".ue-userbox-detail").show(100)},2700)}).delegate(".ue-userbox","mouseleave",function(e){t.find(".ue-cross").removeClass("swing"),clearTimeout(o)}),t.delegate(".ue-userbox-detail","mouseenter",function(e){clearTimeout(s)}).delegate(".ue-userbox-detail","mouseleave",function(){s=setTimeout(function(){t.find(".ue-userbox-detail").hide(200)},200)})},{"sig/start":function(t,n){var i=this;i.html(r),n.resolve()},"dom/action.click.mouseover.mouseenter.mouseleave":n.noop,"dom/action/expandUserbox.click":function(){var e=this.$element;clearTimeout(s),e.find(".ue-userbox-detail").show()},"dom/action/manualShrink.click":function(e,t){t.preventDefault();var n=this.$element;clearTimeout(o),n.find(".ue-userbox-detail").hide()},"dom/refresh":function(){var e=this,t=n.Deferred();return i.clearCache(),e.html(r,t),t.promise()}})})